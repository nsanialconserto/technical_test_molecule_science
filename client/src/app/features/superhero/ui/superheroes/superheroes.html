<div class="page">
    <div class="card">
        <div class="page-header">
            <h1 class="heading">Superhéros</h1>
            @if (!store.isLoading()) {
                <button matFab aria-label="add superhero button" class="add-button" (click)="openCreateSuperheroDialog('500ms', '500ms')">
                    <mat-icon aria-hidden="false" aria-label="add superhero button icon" fontIcon="add"></mat-icon>
                </button>
            }
        </div>
        @if (store.isLoading()) {
        <div class="loading">
            <mat-spinner diameter="32" />
            <span>Chargement…</span>
        </div>
        }
        @if (store.error()) {
        <p class="error">{{ store.error() }}</p>
        }
        @if (!store.isLoading() && !store.error()) {
            <div class="tool-tip-update">
                <mat-icon aria-hidden="false" aria-label="info update icon" fontIcon="info" class="info-icon"></mat-icon>
                <span>Vous pouvez modifier un super héro en cliquant sur sa ligne correspondante</span>
            </div>
            <table mat-table [dataSource]="dataSource" class="hero-table">
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>Id</th>
                    <td mat-cell *matCellDef="let row">{{ row.id }}</td>
                </ng-container>
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Nom</th>
                    <td mat-cell *matCellDef="let row">{{ row.name }}</td>
                </ng-container>
                <ng-container matColumnDef="power">
                    <th mat-header-cell *matHeaderCellDef>Pouvoir</th>
                    <td mat-cell *matCellDef="let row">{{ row.power }}</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row;
            columns: displayedColumns" (click)="redirectSuperheorDetails(row.id)"></tr>
            </table>
        }
    </div>
</div>